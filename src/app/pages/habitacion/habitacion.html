<p-toolbar styleClass="mb-4">
      <ng-template #start>
        <div class="flex gap-2">
          <p-select
            [(ngModel)]="hotelId"
            [options]="hotelesOptions"
            optionLabel="label"
            optionValue="value"
            placeholder="Selecciona hotel"
            (onChange)="onHotelChange()"
            styleClass="w-20rem" />
          <p-button label="Nuevo" icon="pi pi-plus" [disabled]="!hotelId" (onClick)="openNew()" />
        </div>
      </ng-template>
      <ng-template #end>
        <p-iconfield>
          <p-inputicon styleClass="pi pi-search" />
          <input pInputText type="text" (input)="onGlobalFilter(dt, $event)" placeholder="Buscar..." />
        </p-iconfield>
      </ng-template>
    </p-toolbar>

    <p-table #dt
      [value]="rows()"
      [lazy]="true"
      [paginator]="true"
      [rows]="pageSize"
      [totalRecords]="total"
      (onLazyLoad)="loadLazy($event)"
      dataKey="id"
      [rowHover]="true"
      currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} habitaciones"
      [showCurrentPageReport]="true"
      [rowsPerPageOptions]="[10,20,30]">

      <ng-template #header>
        <tr>
          <th pSortableColumn="numero">Número <p-sortIcon field="numero" /></th>
          <th pSortableColumn="tipo">Tipo <p-sortIcon field="tipo" /></th>
          <th pSortableColumn="capacidad">Capacidad <p-sortIcon field="capacidad" /></th>
          <th pSortableColumn="precioBase">Precio Base <p-sortIcon field="precioBase" /></th>
          <th pSortableColumn="estado">Estado <p-sortIcon field="estado" /></th>
          <th>Descripción</th>
          <th style="width: 8rem"></th>
        </tr>
      </ng-template>

      <ng-template #body let-row>
        <tr>
          <td class="font-semibold">{{ row.numero }}</td>
          <td>{{ row.tipo }}</td>
          <td>{{ row.capacidad }}</td>
          <td>{{ row.precioBase | currency:'GTQ' }}</td>
          <td><p-tag [value]="row.estado" [severity]="estadoSeverity(row.estado)"></p-tag></td>
          <td>{{ row.descripcion }}</td>
          <td class="text-right">
            <p-button icon="pi pi-pencil" [rounded]="true" [outlined]="true" class="mr-2" (click)="edit(row)" />
            <p-button icon="pi pi-trash" severity="danger" [rounded]="true" [outlined]="true" (click)="deleteOne(row)" />
          </td>
        </tr>
      </ng-template>
    </p-table>

    <p-dialog [(visible)]="dialogVisible" [modal]="true" [style]="{width:'600px'}" header="Habitación">
      <ng-template #content>
        <div class="grid grid-cols-12 gap-4">
          <div class="col-span-12 md:col-span-6">
            <label class="block font-bold mb-2">Hotel</label>
            <p-select
              [(ngModel)]="habitacion.hotelId"
              [options]="hotelesOptions"
              optionLabel="label" optionValue="value"
              placeholder="Selecciona hotel"
              styleClass="w-full" />
          </div>
          <div class="col-span-12 md:col-span-6">
            <label class="block font-bold mb-2">Número</label>
            <input pInputText [(ngModel)]="habitacion.numero" />
          </div>

          <div class="col-span-12 md:col-span-6">
            <label class="block font-bold mb-2">Tipo</label>
            <p-select [(ngModel)]="habitacion.tipo" [options]="tiposOptions" styleClass="w-full" />
          </div>
          <div class="col-span-6 md:col-span-3">
            <label class="block font-bold mb-2">Capacidad</label>
            <p-inputNumber [(ngModel)]="habitacion.capacidad"></p-inputNumber>
          </div>
          <div class="col-span-6 md:col-span-3">
            <label class="block font-bold mb-2">Precio base</label>
            <p-inputNumber [(ngModel)]="habitacion.precioBase" mode="currency" currency="GTQ" locale="es-GT"></p-inputNumber>
          </div>

          <div class="col-span-12">
            <label class="block font-bold mb-2">Descripción</label>
            <input pInputText [(ngModel)]="habitacion.descripcion" />
          </div>
        </div>
      </ng-template>
      <ng-template #footer>
        <p-button label="Cancelar" icon="pi pi-times" text (click)="hideDialog()" />
        <p-button label="Guardar" icon="pi pi-check" (click)="save()" />
      </ng-template>
    </p-dialog>

    <p-confirmDialog />
    <p-toast />